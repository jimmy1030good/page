<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œì»¬ í…ŒìŠ¤íŠ¸ - ì•„ì£¼ë¥´ ì •ë³´ ë·°ì–´</title>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #5c6bc0;
            margin-bottom: 30px;
        }
        
        .status {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        
        .item-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .item-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }
        
        .item-card:hover {
            transform: translateY(-5px);
        }
        
        .item-card img {
            width: 100%;
            height: 160px;
            object-fit: contain;
            margin-bottom: 10px;
            border-radius: 8px;
        }
        
        .item-card h3 {
            margin: 10px 0 5px 0;
            color: #5c6bc0;
            font-size: 1rem;
        }
        
        .attribute-tag {
            display: inline-block;
            padding: 4px 8px;
            background-color: #e3f2fd;
            color: #1976d2;
            border-radius: 12px;
            font-size: 0.8rem;
        }
        
        .error {
            color: #f44336;
            background-color: #ffebee;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .success {
            color: #4caf50;
            background-color: #e8f5e8;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        button {
            background-color: #5c6bc0;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background-color: #3f51b5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª ë¡œì»¬ í…ŒìŠ¤íŠ¸ - ì•„ì£¼ë¥´ ì •ë³´ ë·°ì–´</h1>
        
        <div class="status">
            <h3>í…ŒìŠ¤íŠ¸ ìƒíƒœ</h3>
            <div id="status-log">í…ŒìŠ¤íŠ¸ ì‹œì‘ ì¤‘...</div>
            <button onclick="testDataLoad()">ë°ì´í„° ë¡œë”© í…ŒìŠ¤íŠ¸</button>
            <button onclick="testImageLoad()">ì´ë¯¸ì§€ ë¡œë”© í…ŒìŠ¤íŠ¸</button>
            <button onclick="clearLog()">ë¡œê·¸ ì§€ìš°ê¸°</button>
        </div>
        
        <div id="item-list" class="item-list">
            <!-- ìºë¦­í„°ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
        </div>
    </div>

    <script>
        console.log('ğŸ§ª ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì‹œì‘');
        
        const statusLog = document.getElementById('status-log');
        const itemList = document.getElementById('item-list');
        
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const className = type === 'error' ? 'error' : type === 'success' ? 'success' : '';
            statusLog.innerHTML += `<div class="${className}">[${timestamp}] ${message}</div>`;
            console.log(`[${timestamp}] ${message}`);
        }
        
        function clearLog() {
            statusLog.innerHTML = '';
        }
        
        async function testDataLoad() {
            log('ğŸ“¡ ë°ì´í„° ë¡œë”© í…ŒìŠ¤íŠ¸ ì‹œì‘...');
            
            try {
                log('ğŸ” data.json íŒŒì¼ ìš”ì²­ ì¤‘...');
                const response = await fetch('./data.json');
                
                log(`ğŸ“Š ì‘ë‹µ ìƒíƒœ: ${response.status} ${response.statusText}`);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                log('ğŸ“ JSON íŒŒì‹± ì¤‘...');
                const data = await response.json();
                
                log(`âœ… ë°ì´í„° ë¡œë”© ì„±ê³µ! ìºë¦­í„° ${data.characters.length}ê°œ, í‚¤ë³´ ${data.kibos.length}ê°œ`, 'success');
                
                // ìºë¦­í„° ëª©ë¡ í‘œì‹œ
                displayCharacters(data.characters);
                
                return data;
                
            } catch (error) {
                log(`âŒ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨: ${error.message}`, 'error');
                console.error('Data loading error:', error);
            }
        }
        
        function displayCharacters(characters) {
            log('ğŸ¨ ìºë¦­í„° ëª©ë¡ í‘œì‹œ ì¤‘...');
            
            itemList.innerHTML = characters.map(char => `
                <div class="item-card">
                    <img src="${char.imageUrl || './images/placeholder.png'}" 
                         alt="${char.name}" 
                         onerror="this.src='./images/placeholder.png'; console.log('ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨: ${char.name}');"
                         onload="console.log('ì´ë¯¸ì§€ ë¡œë“œ ì„±ê³µ: ${char.name}');">
                    <h3>${char.name}</h3>
                    <span class="attribute-tag">${getAttributeEmoji(char.attribute)} ${char.attribute}</span>
                    <div style="font-size: 0.8rem; color: #666; margin-top: 5px;">
                        ì¢…ì¡±: ${char.race}<br>
                        ì±„ë„: ${char.releaseChannel}
                    </div>
                </div>
            `).join('');
            
            log(`ğŸ¯ ${characters.length}ê°œ ìºë¦­í„° ì¹´ë“œ ìƒì„± ì™„ë£Œ`, 'success');
        }
        
        function getAttributeEmoji(attribute) {
            const emojis = {
                'ë¶ˆ': 'ğŸ”¥',
                'ë¬¼': 'ğŸ’§', 
                'ë•…': 'ğŸŒ‹',
                'ë²ˆê°œ': 'âš¡',
                'ë°”ëŒ': 'ğŸŒªï¸',
                'ì–´ë‘ ': 'ğŸŒ‘',
                'ë¹›': 'âœ¨',
                'ì–¼ìŒ': 'â„ï¸',
                'ë‚˜ë¬´': 'ğŸŒ²'
            };
            return emojis[attribute] || 'â“';
        }
        
        async function testImageLoad() {
            log('ğŸ–¼ï¸ ì´ë¯¸ì§€ ë¡œë”© í…ŒìŠ¤íŠ¸ ì‹œì‘...');
            
            const testImages = [
                './images/terara.gif',
                './images/han_yoyo.gif', 
                './images/shalle.gif',
                './images/placeholder.png'
            ];
            
            for (const imagePath of testImages) {
                try {
                    const response = await fetch(imagePath);
                    if (response.ok) {
                        log(`âœ… ì´ë¯¸ì§€ ì ‘ê·¼ ê°€ëŠ¥: ${imagePath}`, 'success');
                    } else {
                        log(`âŒ ì´ë¯¸ì§€ ì ‘ê·¼ ì‹¤íŒ¨: ${imagePath} (${response.status})`, 'error');
                    }
                } catch (error) {
                    log(`âŒ ì´ë¯¸ì§€ ìš”ì²­ ì˜¤ë¥˜: ${imagePath} - ${error.message}`, 'error');
                }
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ í…ŒìŠ¤íŠ¸
        window.addEventListener('load', () => {
            log('ğŸš€ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ, ìë™ í…ŒìŠ¤íŠ¸ ì‹œì‘');
            setTimeout(() => {
                testDataLoad();
            }, 1000);
        });
    </script>
</body>
</html>